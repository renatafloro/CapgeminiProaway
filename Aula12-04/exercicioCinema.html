<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #sala button{
            margin: 2px;

        }
        .livre{
            background-color: green;
        }
        .ocupado{
            background-color: red;

        }
    </style>
</head>
<body>
    <label for="total">Informe a quantidade</label>
    <input type="number" id="total"/>
    <button onclick="criar()">Criar sala</button>
    <hr>
    <div id="sala">
        <!--BotÃµes criados-->
    </div>
    <hr>
    <label id="totalOcupacao"></label>

    <script>
        function criar(){
            var sala = document.getElementById("sala")
            sala.innerHTML="" //limpa os dados para receber os novos dados digitados
            var qtdCadeiras = document.getElementById("total").value
           for(let i =1; i <= qtdCadeiras; i++){
            bt= document.createElement("button")
            bt.innerText = i
            bt.className= "livre"
            bt.setAttribute("onclick", "reservar(this)")
            sala.appendChild(bt)
           } 
           totalOcupacao()
        }

        function totalOcupacao(){
            var x = document.getElementsByClassName("livre").length
            var y = document.getElementsByClassName("ocupado").length
            document.getElementById("totalOcupacao").innerHTML= `Total Livres: ${x}
                                                                 Total ocupados: ${y}`
        }

        function reservar(elemento){
            var classe = elemento.getAttribute("class")
            if(classe === "livre"){
                elemento.setAttribute("class","ocupado")
            } else{
                elemento.setAttribute("class","livre")
            }
            
            totalOcupacao()
        }
    </script>
</body>
</html>